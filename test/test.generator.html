<!doctype html>
<html>
<!--
      Morpheus - A test harness for debugging the glsl generator functions
      Copyright (c) 2011-2013 CircuitHub.com
-->
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
  <title>Morpheus - Test CSM API</title>
  <meta name='description' content='Test harness for the API'>

  <!-- Stylesheet -->
  <style type='text/css' media='screen'></style>
</head>
<body>
  
  <!-- Framework -->
  
  <script src='../static/lib/glquery/glquery.math.module.js'></script>

  <!-- Application logic -->
  
  <script src="../static/lib/morpheus-api.js"></script>
  <script src="../static/lib/morpheus-generator.js"></script>
  <script>
    var csm = scene({ parameters: [] },
      translate(
        { offset: [0.0, 0.4, 0.0] },
        intersect(
          box({ dimensions: [0.2, 0.5, 0.2] }),
          translate({ offset: [0.3, 0.0, 0.0] },
            box({ dimensions: [0.5, 0.2, 0.2] })
          )
        )
      ),
      cylinder({ axis: 1, radius: 0.2, length: 0.5 }),
      sphere({ radius: 0.3 }).translate({ offset: [0.0, -0.2, 0.0] })
    ),
    asm = morpheus.generator.compileASM(csm),
    glsl = morpheus.generator.compileGLSL(asm);
    console.log(asm);
    console.log(glsl);
  </script>
</body>
</html>
