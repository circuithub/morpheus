/*! @source http://purl.eligrey.com/github/jsandbox/blob/master/src/jsandbox.js*/
"use strict";var JSandbox=(function(A){var I="undefined",J=A.document,K=A.Worker;if(typeof K===I){return}var m=A.JSON||{};(function(){function r(a){return a<10?"0"+a:a}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(a){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+r(this.getUTCMonth()+1)+"-"+r(this.getUTCDate())+"T"+r(this.getUTCHours())+":"+r(this.getUTCMinutes())+":"+r(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()}}var B=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,C=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,u,O={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n;function D(b){C.lastIndex=0;return C.test(b)?'"'+b.replace(C,function(a){var d=O[a];return typeof d==="string"?d:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+b+'"'}function v(a,d){var b,c,g,h,k=j,i,f=d[a];if(f&&typeof f==="object"&&typeof f.toJSON==="function"){f=f.toJSON(a)}if(typeof n==="function"){f=n.call(d,a,f)}switch(typeof f){case"string":return D(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f){return"null"}j+=u;i=[];if(Object.prototype.toString.apply(f)==="[object Array]"){h=f.length;for(b=0;b<h;b+=1){i[b]=v(b,f)||"null"}g=i.length===0?"[]":j?"[\n"+j+i.join(",\n"+j)+"\n"+k+"]":"["+i.join(",")+"]";j=k;return g}if(n&&typeof n==="object"){h=n.length;for(b=0;b<h;b+=1){c=n[b];if(typeof c==="string"){g=v(c,f);if(g){i.push(D(c)+(j?": ":":")+g)}}}}else{for(c in f){if(Object.hasOwnProperty.call(f,c)){g=v(c,f);if(g){i.push(D(c)+(j?": ":":")+g)}}}}g=i.length===0?"{}":j?"{\n"+j+i.join(",\n"+j)+"\n"+k+"}":"{"+i.join(",")+"}";j=k;return g}}if(typeof m.stringify!=="function"){m.stringify=function(a,d,b){var c;j="";u="";if(typeof b==="number"){for(c=0;c<b;c+=1){u+=" "}}else{if(typeof b==="string"){u=b}}n=d;if(d&&typeof d!=="function"&&(typeof d!=="object"||typeof d.length!=="number")){throw new Error("JSON.stringify")}return v("",{"":a})}}if(typeof m.parse!=="function"){m.parse=function(h,k){var i;function f(a,d){var b,c,g=a[d];if(g&&typeof g==="object"){for(b in g){if(Object.hasOwnProperty.call(g,b)){c=f(g,b);if(c!==undefined){g[b]=c}else{delete g[b]}}}}return k.call(a,d,g)}B.lastIndex=0;if(B.test(h)){h=h.replace(B,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(h.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){i=eval("("+h+")");return typeof k==="function"?f({"":i},""):i}throw new SyntaxError("JSON.parse")}}}());var P=m.parse,Q=m.stringify,R=function(){return Q.call(m,this)},S="eval",T="exec",L="load",o="requests",M="input",E="terminate",p="data",N="callback",s="onerror",t="worker",F="onresponse",w="prototype",x="call",G="string",y="function",l=function(){var c=this;if(!(c instanceof l)){return new l()}c[t]=new K(l.url);c[o]={};c[t].onmessage=function(a){var d=a[p],b;if(typeof d===G){try{d=P(d)}catch(e){return}}if(typeof d!=="object"){return}b=c[o][d.id];if(b){if(d.error){if(typeof c[s]===y){c[s](d,b)}if(typeof b[s]===y){b[s][x](c,d.error)}}else{if(typeof c[F]===y){c[F](d,b)}if(typeof b[N]===y){b[N][x](c,d.results)}}delete c[o][d.id]}}},z=l[w],U=function(k){z[k]=function(a,d,b,c){if(typeof a===G||Object[w].toString[x](a)==="[object Array]"||arguments.length>1){a={data:a,input:b,callback:d,onerror:c}}if(k===L&&typeof a[p]===G){a[p]=[a[p]]}var g=a[p],h=this.createRequestID();b=a[M];delete a[p];delete a[M];this[o][h]=a;this[t].postMessage({id:h,method:k,data:g,input:b,toString:R});return h};l[k]=function(){var a=new l();a[F]=a[s]=function(){a[E]();a=null};l[w][k].apply(a,Array[w].slice[x](arguments));return l}},V=[S,L,T],q=3;while(q--){U(V[q])}z[E]=function(){this[o]={};this[t].onmessage=null;this[t][E]()};z.abort=function(a){delete this[o][a]};z.createRequestID=function(){var a=Math.random().toString();if(a in this[o]){return this.createRequestID()}return a};if(typeof J!==I){var H=J.getElementsByTagName("link");q=H.length;while(q--){if(H[q].getAttribute("rel")==="jsandbox"){l.url=H[q].getAttribute("href");break}}}return l}(self)),Sandbox=JSandbox;
