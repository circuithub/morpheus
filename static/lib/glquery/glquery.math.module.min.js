/*
 * glQuery-math - A math module from a fluent WebGL engine (https://github.com/glQuery)
 * glQuery-math is free, public domain software (http://creativecommons.org/publicdomain/zero/1.0/)
 * Originally created by Rehno Lindeque of http://www.mischievousmeerkat.com
 */
var glQueryMath = new (function() {
"use strict";

var glQueryMath=this!=null?this:window;(function(){var a=glQueryMath,b={matrix4:[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],matrix3:[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]],matrix2:[[0,0,0,0],[0,0,0,0]],vector4:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],vector3:[[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vector2:[[0,0],[0,0],[0,0],[0,0]]},c=a.vec2={};c.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a},c.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a},c.mul=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a},c.div=function(a,b,c){return a[0]=b[0]/c,a[1]=b[1]/c,a},c.neg=function(a,b){a[0]=-b[0],a[1]=-b[1]},c.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]},c.length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])};var d=a.vec3={};d.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a},d.sub=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a},d.mul=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a},d.div=function(a,b,c){return a[0]=b[0]/c,a[1]=b[1]/c,a[2]=b[2]/c,a},d.neg=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a},d.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]},d.cross=function(a,b,c){return a[0]=b[1]*c[2]-b[2]*c[1],a[1]=b[2]*c[0]-b[0]*c[2],a[2]=b[0]*c[1]-b[1]*c[0],a},d.length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])},d.normalize=function(a,b){return d.div(a,b,d.length(b))};var e=e={};e.add=function(a,b,c){return a[0]=b[0]+c[0],a[1]=b[1]+c[1],a[2]=b[2]+c[2],a[3]=b[3]+c[3],a},e.subtract=function(a,b,c){return a[0]=b[0]-c[0],a[1]=b[1]-c[1],a[2]=b[2]-c[2],a[3]=b[3]-c[3],a},e.mul=function(a,b,c){return a[0]=b[0]*c,a[1]=b[1]*c,a[2]=b[2]*c,a[3]=b[3]*c,a},e.div=function(a,b,c){return a[0]=b[0]/c,a[1]=b[1]/c,a[2]=b[2]/c,a[3]=b[3]/c,a},e.neg=function(a,b){a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3]},e.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]},e.length=function(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2]+a[3]*a[3])};var f=a.matrix3={};f.mul=function(a,c,d){var e=b.matrix3[0];e[0]=c[0]*d[0]+c[1]*d[3]+c[2]*d[6],e[1]=c[0]*d[1]+c[1]*d[4]+c[2]*d[7],e[2]=c[0]*d[2]+c[1]*d[5]+c[2]*d[8],e[3]=c[3]*d[0]+c[4]*d[3]+c[5]*d[6],e[4]=c[3]*d[1]+c[4]*d[4]+c[5]*d[7],e[5]=c[3]*d[2]+c[4]*d[5]+c[5]*d[8],e[6]=c[6]*d[0]+c[7]*d[3]+c[8]*d[6],e[7]=c[6]*d[1]+c[7]*d[4]+c[8]*d[7],e[8]=c[6]*d[2]+c[7]*d[5]+c[8]*d[8];for(var f=0;f<9;++f)a[f]=e[f];return a},f.rotateX=function(a,b,c){return f.mul(a,b,f.newRotationX(c))},f.rotateY=function(a,b,c){return f.mul(a,b,f.newRotationY(c))},f.rotateZ=function(a,b,c){return f.mul(a,b,f.newRotationZ(c))},f.rotateXY=function(a,b,c){return f.mul(a,b,f.newRotationXY(c))},f.rotateYX=function(a,b,c){return f.mul(a,b,f.newRotationYX(c))},f.rotateXZ=function(a,b,c){return f.mul(a,b,f.newRotationXZ(c))},f.rotateZX=function(a,b,c){return f.mul(a,b,f.newRotationZX(c))},f.rotateYZ=function(a,b,c){return f.mul(a,b,f.newRotationYZ(c))},f.rotateZY=function(a,b,c){return f.mul(a,b,f.newRotationZY(c))},f.newAxisRotation=function(a,b){var c=Math.sqrt(a[0]*a[0],a[1]*a[1],a[2]*a[2]),d=b*.5,e=Math.sin(d)/c,f=a[0]*e,g=a[1]*e,h=a[2]*e,i=Math.cos(d),j=f*f,k=f*g,l=f*h,m=f*i,n=g*g,o=g*h,p=g*i,q=h*h,r=h*i;return[1-2*(n+q),2*(k+r),2*(l-p),2*(k-r),1-2*(j+q),2*(o+m),2*(l+p),2*(o-m),1-2*(j+n)]},f.newIdentity=function(){return[1,0,0,0,1,0,0,0,1]},f.newRotationX=function(a){var b=Math.cos(a),c=Math.sin(a);return[1,0,0,0,b,c,0,-c,b]},f.newRotationY=function(a){var b=Math.cos(a),c=Math.sin(a);return[b,0,-c,0,1,0,c,0,b]},f.newRotationZ=function(a){var b=Math.cos(a),c=Math.sin(a);return[b,c,0,-c,b,0,0,0,1]},f.newRotationXY=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationX(a[0]),f.newRotationY(a[1]))},f.newRotationYX=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationY(a[0]),f.newRotationX(a[1]))},f.newRotationXZ=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationX(a[0]),f.newRotationZ(a[1]))},f.newRotationZX=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationZ(a[0]),f.newRotationX(a[1]))},f.newRotationYZ=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationY(a[0]),f.newRotationZ(a[1]))},f.newRotationZY=function(a){var b=[0,0,0,0,0,0,0,0,0];return f.mul(b,f.newRotationZ(a[0]),f.newRotationY(a[1]))};var g=a.matrix4={};g.newAxisRotation=function(a,b){var c=Math.sqrt(a[0]*a[0],a[1]*a[1],a[2]*a[2]),d=b*.5,e=Math.sin(d)/c,f=a[0]*e,g=a[1]*e,h=a[2]*e,i=Math.cos(d),j=f*f,k=f*g,l=f*h,m=f*i,n=g*g,o=g*h,p=g*i,q=h*h,r=h*i;return[1-2*(n+q),2*(k+r),2*(l-p),0,2*(k-r),1-2*(j+q),2*(o+m),0,2*(l+p),2*(o-m),1-2*(j+n),0,0,0,0,1]},g.newIdentity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},g.newRows=function(a,b,c,d){return[].concat(a,b,c,d)},g.newColumns=function(a,b,c,d){return[a[0],b[0],c[0],d[0],a[1],b[1],c[1],d[1],a[2],b[2],c[2],d[2],a[3],b[3],c[3],d[3]]},g.newOrtho=function(a,b,c,d,e,f){var g=a-b,h=c-d,i=e-f;return[-2/g,0,0,0,0,-2/h,0,0,0,0,2/i,0,(a+b)/g,(d+c)/h,(f+e)/i,1]},g.newLookAt=function(c,d,e){var f=b.vector4[0],h=b.vector4[1],i=b.vector4[2],j=b.vector4[3];return a.vec3.sub(i,c,d),a.vec3.cross(f,e,i),a.vec3.normalize(f,f),a.vec3.normalize(i,i),a.vec3.cross(h,i,f),f[3]=-a.vec3.dot(f,c),h[3]=-a.vec3.dot(h,c),i[3]=-a.vec3.dot(i,c),j[0]=0,j[1]=0,j[2]=0,j[3]=1,g.newColumns(f,h,i,j)}})();
// Extend glQuery if it is defined
if (typeof glQuery !== 'undefined' && glQuery != null)
  for(var key in glQueryMath)
    if (glQuery[key] == null)
      glQuery[key] = glQueryMath[key];
return glQueryMath;

})();

